---
// Contador.astro
---

<section class="relative w-full py-4 md:py-6 overflow-hidden">
  <!-- Fondo degradado elegante -->
  <div class="absolute inset-0 bg-gradient-to-b from-[#f5f5dc]/30 via-white to-[#f5f5dc]/30"></div>
  
  <!-- Patr√≥n decorativo de fondo -->
  <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle, #d4af37 1px, transparent 1px); background-size: 30px 30px;"></div>

  <div class="max-w-6xl sm:max-w-xl lg:max-w-xl mx-auto relative px-6">
    
    <!-- üå∏ FLORES LATERALES IZQUIERDA -->
    <div class="absolute -left-4 md:left-0 top-1/2 -translate-y-1/2 w-10 md:w-32 lg:w-40 pointer-events-none opacity-80">
      <img src="/imagenes/AdorIzquierda.webp" alt="Flores" class="w-full h-auto object-contain" />
    </div>

    <!-- üå∏ FLORES LATERALES DERECHA -->
    <div class="absolute -right-4 md:right-0 top-1/2 -translate-y-1/2 w-10 md:w-32 lg:w-40 pointer-events-none opacity-80">
      <img src="/imagenes/AdorDerecha.webp" alt="Flores" class="w-full h-auto object-contain" />
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="relative z-10 max-w-4xl mx-auto">
      
      <!-- T√≠tulo superior elegante -->
      <div class="text-center mb-12 md:mb-16">
        <div class="flex items-center justify-center gap-4 mb-4">
          <div class="h-px w-16 md:w-24" style="background: linear-gradient(to right, transparent, #d4af37);"></div>
          <svg class="w-8 h-8 md:w-10 md:h-10" style="color: #d4af37;" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
          <div class="h-px w-16 md:w-24" style="background: linear-gradient(to left, transparent, #d4af37);"></div>
        </div>
        
        <h2 class="font-charm text-xl md:text-6xl lg:text-7xl font-bold mb-3" style="color: #d4af37; text-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);">
          Nuestro Gran D√≠a
        </h2>
    
      </div>

      <!-- CONTADOR PRINCIPAL -->
      <div class="grid grid-cols-4 gap-4 md:gap-8 lg:gap-12 mb-12">
        
        <!-- D√çAS -->
        <div class="flex flex-col items-center grupo-contador">
          <div class="relative mb-4">
            <!-- C√≠rculo decorativo de fondo -->
            <div class="absolute inset-0 rounded-full blur-2xl opacity-30" style="background: #d4af37;"></div>
            <!-- N√∫mero -->
            <div class="relative">
              <span class="font-charm text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold block numero-tiempo" id="dias">00</span>
            </div>
          </div>
          <span class="text-sm md:text-base lg:text-lg font-medium tracking-widest uppercase" style="color: #8b7355;">D√≠as</span>
        </div>

        <!-- HORAS -->
        <div class="flex flex-col items-center grupo-contador">
          <div class="relative mb-4">
            <div class="absolute inset-0 rounded-full blur-2xl opacity-30" style="background: #d4af37;"></div>
            <div class="relative">
              <span class="font-charm text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold block numero-tiempo" id="horas">00</span>
            </div>
          </div>
          <span class="text-sm md:text-base lg:text-lg font-medium tracking-widest uppercase" style="color: #8b7355;">Horas</span>
        </div>

        <!-- MINUTOS -->
        <div class="flex flex-col items-center grupo-contador">
          <div class="relative mb-4">
            <div class="absolute inset-0 rounded-full blur-2xl opacity-30" style="background: #d4af37;"></div>
            <div class="relative">
              <span class="font-charm text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold block numero-tiempo" id="minutos">00</span>
            </div>
          </div>
          <span class="text-sm md:text-base lg:text-lg font-medium tracking-widest uppercase" style="color: #8b7355;">Minutos</span>
        </div>

        <!-- SEGUNDOS -->
        <div class="flex flex-col items-center grupo-contador">
          <div class="relative mb-4">
            <div class="absolute inset-0 rounded-full blur-2xl opacity-30" style="background: #d4af37;"></div>
            <div class="relative">
              <span class="font-charm text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold block numero-tiempo" id="segundos">00</span>
            </div>
          </div>
          <span class="text-sm md:text-base lg:text-lg font-medium tracking-widest uppercase" style="color: #8b7355;">Segundos</span>
        </div>

      </div>


    </div>
  </div>
</section>

<script>
  if (typeof window !== 'undefined') {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("‚è∞ Iniciando contador elegante...");

      // üéØ FECHA DEL EVENTO: 20 de Diciembre 2025 a las 18:00
      const fechaEvento = new Date("2025-12-20T18:00:00").getTime();

      // ‚è∞ FUNCI√ìN DEL CONTADOR
      function actualizarContador() {
        const ahora = new Date().getTime();
        const diferencia = fechaEvento - ahora;

        if (diferencia > 0) {
          const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
          const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
          const segundos = Math.floor((diferencia % (1000 * 60)) / 1000);

          const diasEl = document.getElementById("dias");
          const horasEl = document.getElementById("horas");
          const minutosEl = document.getElementById("minutos");
          const segundosEl = document.getElementById("segundos");

          if (diasEl) diasEl.textContent = String(dias).padStart(2, "0");
          if (horasEl) horasEl.textContent = String(horas).padStart(2, "0");
          if (minutosEl) minutosEl.textContent = String(minutos).padStart(2, "0");
          if (segundosEl) segundosEl.textContent = String(segundos).padStart(2, "0");
        } else {
          const diasEl = document.getElementById("dias");
          const horasEl = document.getElementById("horas");
          const minutosEl = document.getElementById("minutos");
          const segundosEl = document.getElementById("segundos");

          if (diasEl) diasEl.textContent = "00";
          if (horasEl) horasEl.textContent = "00";
          if (minutosEl) minutosEl.textContent = "00";
          if (segundosEl) segundosEl.textContent = "00";
        }
      }

      actualizarContador();
      setInterval(actualizarContador, 1000);

      console.log("‚è∞‚ú® ¬°Contador elegante activado!");
    });
  }
</script>

<style>
  /* N√∫meros con gradiente dorado espectacular */
  .numero-tiempo {
    background: linear-gradient(135deg, 
      #d4af37 0%, 
      #c19a2e 30%, 
      #d4af37 60%, 
      #e5c158 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
    filter: drop-shadow(0 4px 8px rgba(212, 175, 55, 0.3));
    animation: brillo 4s ease-in-out infinite;
  }

  @keyframes brillo {
    0%, 100% {
      filter: drop-shadow(0 4px 8px rgba(212, 175, 55, 0.3));
    }
    50% {
      filter: drop-shadow(0 6px 16px rgba(212, 175, 55, 0.6));
    }
  }

  /* Hover en cada grupo */
  .grupo-contador {
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .grupo-contador:hover {
    transform: translateY(-12px) scale(1.05);
  }

  .grupo-contador:hover .numero-tiempo {
    text-shadow: 0 8px 30px rgba(212, 175, 55, 0.6);
    filter: drop-shadow(0 8px 20px rgba(212, 175, 55, 0.5));
  }

  /* Animaci√≥n de flotaci√≥n suave */
  @keyframes flotar {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .grupo-contador:nth-child(1) {
    animation: flotar 6s ease-in-out infinite;
    animation-delay: 0s;
  }

  .grupo-contador:nth-child(2) {
    animation: flotar 6s ease-in-out infinite;
    animation-delay: 0.5s;
  }

  .grupo-contador:nth-child(3) {
    animation: flotar 6s ease-in-out infinite;
    animation-delay: 1s;
  }

  .grupo-contador:nth-child(4) {
    animation: flotar 6s ease-in-out infinite;
    animation-delay: 1.5s;
  }

  /* Para texto con Charm */
  .font-charm {
    font-family: 'Charm', cursive !important;
  }

  /* Resplandor en los puntos decorativos */
  @keyframes pulso-punto {
    0%, 100% {
      opacity: 0.5;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.3);
    }
  }

  .flex.items-center.justify-center.gap-3 > div {
    animation: pulso-punto 2s ease-in-out infinite;
  }

  .flex.items-center.justify-center.gap-3 > div:nth-child(2) {
    animation-delay: 0.3s;
  }

  /* Responsive: ajustar tama√±os en m√≥viles */
  @media (max-width: 640px) {
    .numero-tiempo {
      font-size: 3rem;
    }
  }
</style>