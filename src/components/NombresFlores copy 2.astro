---
// HeroSection.astro
---

<section class="relative w-full h-screen flex flex-col items-center justify-center overflow-hidden">
  <!-- Imagen de fondo -->
  <div class="hero-bg absolute inset-0 z-0">
    <img 
      src="/imagenes/res.webp" 
      alt="Juan Carlos y Yamila" 
      class="w-full h-full object-cover"
    />
    <!-- Overlay oscuro para mejorar legibilidad -->
    <div class="hero-overlay absolute inset-0 bg-black/40"></div>
  </div>

  <!-- Contenido principal -->
  <div class="relative z-10 text-center px-6 flex flex-col items-center h-full">
    
    <!-- Iniciales decorativas en la parte superior -->
    <div class="iniciales-top mt-8 mb-4 opacity-0">
      <span class="font-charm text-5xl text-white drop-shadow-lg">O & S</span>
    </div>

    <!-- Texto "NUESTRA BODA" -->
    <p class="texto-boda text-white/90 text-sm md:text-base tracking-[0.3em] uppercase mb-8 font-light opacity-0">
      Nuestra Boda
    </p>

    <!-- Espaciador flexible que empuja los nombres hacia abajo -->
    <div class="flex-grow"></div>

    <!-- Nombres de los novios -->
    <div class="mb-8 space-y-4">
      <h1 class="nombre-oliver font-great-vibes text-5xl md:text-7xl lg:text-8xl text-white drop-shadow-2xl leading-tight opacity-0">
        Oliver
      </h1>
      
      <!-- Separador con & -->
      <div class="separador-ampersand flex items-center justify-center gap-4 py-2 opacity-0">
        <div class="linea-izq h-px w-12 md:w-16 bg-white/60"></div>
        <span class="font-charm text-4xl md:text-5xl text-white/90">&</span>
        <div class="linea-der h-px w-12 md:w-16 bg-white/60"></div>
      </div>
      
      <h1 class="nombre-susy font-great-vibes text-5xl md:text-7xl lg:text-8xl text-white drop-shadow-2xl leading-tight opacity-0">
        Susy
      </h1>
    </div>

    <!-- Fecha de la boda -->
    <div class="fecha-boda mb-20 flex items-center gap-3 px-6 py-3 rounded-full border border-white/40 backdrop-blur-sm bg-white/10 opacity-0">
      <!-- Icono de calendario -->
      <svg class="w-5 h-5 text-white/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
      
      <p class="text-white text-base md:text-lg tracking-wider font-light">
        18 enero 2026
      </p>
      
      <!-- Icono decorativo derecho -->
      <svg class="w-5 h-5 text-white/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
    </div>

  </div>

  <!-- Indicador de scroll -->
  <div class="scroll-indicator absolute bottom-8 left-1/2 -translate-x-1/2 z-10 opacity-0">
    <svg class="w-6 h-6 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
    </svg>
  </div>
</section>

<style>
  h1 {
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  }

  /* Mejorar legibilidad en móviles */
  @media (max-width: 640px) {
    h1 {
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
    }
  }
</style>

<script>
  import { gsap } from 'gsap';

  // Timeline principal para secuencia elegante
  const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

  // 1. Fade in de fondo con zoom sutil
  tl.fromTo('.hero-bg img',
    { scale: 1.1, opacity: 0 },
    { scale: 1, opacity: 1, duration: 2, ease: 'power2.out' }
  );

  // 2. Fade in del overlay
  tl.fromTo('.hero-overlay',
    { opacity: 0 },
    { opacity: 1, duration: 1 },
    '-=1.5'
  );

  // 3. Iniciales desde arriba con efecto suave
  tl.fromTo('.iniciales-top',
    { y: -50, opacity: 0 },
    { y: 0, opacity: 1, duration: 1.2, ease: 'back.out(1.3)' },
    '-=0.5'
  );

  // 4. Texto "NUESTRA BODA" con fade y tracking
  tl.fromTo('.texto-boda',
    { opacity: 0, letterSpacing: '0.8em' },
    { opacity: 1, letterSpacing: '0.3em', duration: 1.5 },
    '-=0.8'
  );

  // 5. Nombre Oliver desde abajo con elegancia
  tl.fromTo('.nombre-oliver',
    { y: 80, opacity: 0, scale: 0.9 },
    { y: 0, opacity: 1, scale: 1, duration: 1.5, ease: 'power4.out' },
    '-=0.5'
  );

  // 6. Separador con & expandiéndose
  tl.fromTo('.separador-ampersand',
    { scale: 0, opacity: 0 },
    { scale: 1, opacity: 1, duration: 1, ease: 'back.out(1.5)' },
    '-=0.7'
  );

  // Líneas del separador creciendo
  tl.fromTo('.linea-izq',
    { width: 0 },
    { width: '3rem', duration: 0.8, ease: 'power2.out' },
    '-=0.5'
  );

  tl.fromTo('.linea-der',
    { width: 0 },
    { width: '3rem', duration: 0.8, ease: 'power2.out' },
    '-=0.8'
  );

  // 7. Nombre Susy desde abajo
  tl.fromTo('.nombre-susy',
    { y: 80, opacity: 0, scale: 0.9 },
    { y: 0, opacity: 1, scale: 1, duration: 1.5, ease: 'power4.out' },
    '-=0.8'
  );

  // 8. Fecha con efecto de slide up y scale
  tl.fromTo('.fecha-boda',
    { y: 40, opacity: 0, scale: 0.95 },
    { y: 0, opacity: 1, scale: 1, duration: 1.2, ease: 'back.out(1.2)' },
    '-=0.5'
  );

  // 9. Indicador de scroll con bounce
  tl.fromTo('.scroll-indicator',
    { y: -20, opacity: 0 },
    { y: 0, opacity: 1, duration: 1 },
    '-=0.3'
  );

  // Animación continua del scroll indicator
  gsap.to('.scroll-indicator', {
    y: 10,
    duration: 1.5,
    repeat: -1,
    yoyo: true,
    ease: 'sine.inOut',
    delay: 3
  });

  // Efecto parallax sutil en la imagen de fondo al hacer scroll
  window.addEventListener('scroll', () => {
    const scrolled = window.scrollY;
    const heroSection = document.querySelector('.hero-bg img');
    if (heroSection) {
      gsap.to(heroSection, {
        y: scrolled * 0.5,
        duration: 0.5,
        ease: 'power1.out'
      });
    }
  });

  // Efecto hover en los nombres (solo en desktop)
  if (window.innerWidth > 768) {
    const nombreOliver = document.querySelector('.nombre-oliver');
    const nombreSusy = document.querySelector('.nombre-susy');

    [nombreOliver, nombreSusy].forEach(nombre => {
      nombre?.addEventListener('mouseenter', () => {
        gsap.to(nombre, {
          scale: 1.05,
          duration: 0.3,
          ease: 'power2.out'
        });
      });

      nombre?.addEventListener('mouseleave', () => {
        gsap.to(nombre, {
          scale: 1,
          duration: 0.3,
          ease: 'power2.out'
        });
      });
    });
  }
</script>